@inherits LayoutComponentBase

<MudRTLProvider RightToLeft="true">
    @* Required *@
    <MudThemeProvider @bind-IsDarkMode="@IsDarkMode"/>
    <MudPopoverProvider />

    @* Needed for dialogs *@
    <MudDialogProvider />

    @* Needed for snackbars *@
    <MudSnackbarProvider />
    <MudLayout Style="top: 0px; position: absolute;">
        <MudDrawer Color="Color.Inherit" Elevation="10" Style="overflow-y: clip;" @bind-Open="IsOpen" OpenMiniOnHover="true" Variant="@DrawerVariant.Mini" OverlayAutoClose="true" Fixed="true">
            <MudNavMenu Color="Color.Success" Bordered="true" Margin="Margin.Normal" Dense="true">
                <MudStack AlignItems="AlignItems.Center" Row="true" Style="margin: 10px 10px;">
                    <MudImage Src="/MoradIcon.svg" />
                    <MudText Typo="Typo.h5" Style="white-space: nowrap;overflow: hidden;">مراد للاتصالات</MudText>
                </MudStack>
                <MudDivider Class="my-3" />

                <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">الصفحة الرئيسية</MudNavLink>
                <MudNavGroup Title="الإدارة" Icon="@Icons.Material.Filled.Dashboard" Expanded="true">
                    <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.ShoppingBag">المنتجات</MudNavLink>
                    <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Category">التصنيفيات</MudNavLink>
                    <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Sell">المبيعات</MudNavLink>
                </MudNavGroup>
                <MudNavLink Href="/counter" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Countertops">المنتجات</MudNavLink>
                <MudNavLink Href="/counter" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Countertops">العداد</MudNavLink>
                <MudNavLink Href="/weather" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Cloud">الطقس</MudNavLink>
            </MudNavMenu>
            <MudElement id="ModeSwitcher">
                <MudToggleIconButton Toggled="IsDarkMode" Color="Color.Surface" ToggledColor="Color.Warning" ToggledChanged="@(() => IsDarkMode = !IsDarkMode)" ToggledIcon="@Icons.Material.Filled.LightMode" Icon="@Icons.Material.Filled.DarkMode" />
            </MudElement>
        </MudDrawer>

        <MudMainContent Style="padding-top: 0;">
            <MudElement HtmlTag="div" Style="margin: 15px;">
                @Body
            </MudElement>
        </MudMainContent>
    </MudLayout>
</MudRTLProvider>


<style>
    #ModeSwitcher {
        position: absolute;
        bottom: 0;
    }
</style>

@code {
    public bool IsOpen { get; set; } = false;

    public bool IsDarkMode { get; set; } = false;
}