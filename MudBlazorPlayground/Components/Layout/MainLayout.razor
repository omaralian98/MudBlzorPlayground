@inherits LayoutComponentBase

<MudRTLProvider RightToLeft="true">
    @* Required *@
    <MudThemeProvider @bind-IsDarkMode="@IsDarkMode"/>
    <MudPopoverProvider />

    @* Needed for dialogs *@
    <MudDialogProvider />

    @* Needed for snackbars *@
    <MudSnackbarProvider />
    <MudLayout>
        <MudAppBar Color="Color.Primary">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@(() => IsOpen = !IsOpen)" />
            <MudText Typo="Typo.h5" Class="d-flex align-center"> مراد للاتصالات</MudText>
        </MudAppBar>



        <MudDrawer Elevation="10" Style="overflow-y: clip" OpenMiniOnHover="true" @bind-Open="IsOpen" Fixed="true" Variant="@DrawerVariant.Persistent" OverlayAutoClose="true">
            <MudNavMenu Class="d-flex flex-column justify-content-between" Style="height: -webkit-fill-available;" Color="Color.Success" Bordered="true" Margin="Margin.Dense">
                <MudElement>
                    <MudImage Src="/MoradIcon.svg" Style="margin: 10px;" />
                    <MudDivider Class="my-3" />

                    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">الصفحة الرئيسية</MudNavLink>
                    <MudNavGroup Title="الإدارة" Icon="@Icons.Material.Filled.Dashboard" Expanded="false">
                        <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.ShoppingBag">المنتجات</MudNavLink>
                        <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Category">التصنيفيات</MudNavLink>
                        <MudNavLink Href="/dashboard/products" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Sell">المبيعات</MudNavLink>
                    </MudNavGroup>
                    <MudNavLink Href="/counter" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Countertops">المنتجات</MudNavLink>
                    <MudNavLink Href="/counter" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Countertops">العداد</MudNavLink>
                    <MudNavLink Href="/weather" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Cloud">الطقس</MudNavLink>

                </MudElement>
                <MudElement id="ModeSwitcher">
                    <MudIcon @onclick="@(() => IsDarkMode = !IsDarkMode)" Icon="@(IsDarkMode ? Icons.Material.Filled.LightMode : Icons.Material.Filled.DarkMode)" />
                </MudElement>
            </MudNavMenu>
        </MudDrawer>

        <MudMainContent>
            @Body
        </MudMainContent>
    </MudLayout>
</MudRTLProvider>


<style>
    #ModeSwitcher {
        display: flex;
        justify-content: flex-end;
        margin: 5px 20px;
    }
</style>

@code {
    public bool IsOpen { get; set; } = false;

    public bool IsDarkMode { get; set; } = false;
}